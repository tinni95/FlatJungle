(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,a){},239:function(e,t,a){e.exports=a.p+"static/media/logo.e17eab33.svg"},273:function(e,t,a){e.exports=a(548)},278:function(e,t,a){},286:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},421:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){},540:function(e,t,a){},541:function(e,t,a){},542:function(e,t,a){},543:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){},547:function(e,t,a){},548:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),i=a.n(o),s=(a(278),a(279),a(25)),c=a(26),l=a(57),u=a(235),d=(a(286),function(e){return r.a.createElement("div",{className:e.className||"loader"},r.a.createElement("div",{className:"loader-spinning-wheel"}))}),m=a(45),h=a(15),E={isLoading:!1,isAuthenticated:!1,username:null,name:null,avatar:null,token:null,isStaff:!1,error:null},p={isEditing:!1,editError:null,editSuccess:!1},f=Object(h.a)({},E,p),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(h.a)({},e,{isLoading:!0,isAuthenticated:!1,error:null});case"LOGIN_SUCCESS":return Object(h.a)({},e,{isLoading:!1,isAuthenticated:!0,token:t.token,username:t.username,avatar:t.avatar,name:t.name,isStaff:t.isStaff,error:null});case"LOGIN_FAILURE":return Object(h.a)({},e,E,{error:t.error});case"EDIT_PROFILE_REQUEST":return Object(h.a)({},e,{isEditing:!0,editError:null,editSuccess:!1});case"EDIT_PROFILE_SUCCESS":return Object(h.a)({},e,{isEditing:!1,editError:null,editSuccess:!0,avatar:t.avatar||e.avatar,name:t.name||e.name});case"EDIT_PROFILE_FAILURE":return Object(h.a)({},e,p,{editError:t.error});case"EDIT_PROFILE_RESET":return Object(h.a)({},e,p);case"LOGIN_RESET":return Object(h.a)({},e,E);case"LOGOUT":return f;default:return e}},v={modalType:null,modalProps:{}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return{modalType:t.modalType,modalProps:t.modalProps};case"HIDE_MODAL":return{modalType:null,modalProps:{}};default:return e}},S={isLoading:!1,error:null},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_REQUEST":return Object(h.a)({},e,{isLoading:!0,error:null});case"REGISTER_SUCCESS":return{isLoading:!1,error:null};case"REGISTER_FAILURE":return{isLoading:!1,error:t.error};case"REGISTER_RESET":return S;default:return e}},w={isLoading:!1,profile:null,error:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_PROFILE_REQUEST":return Object(h.a)({},e,{isLoading:!0,error:null});case"FETCH_USER_PROFILE_SUCCESS":return{isLoading:!1,profile:t.profile,error:null};case"FETCH_USER_PROFILE_FAILURE":return Object(h.a)({},w,{error:t.error});default:return e}},T={isLoading:!1,forums:null,error:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_HOME_REQUEST":return Object(h.a)({},e,{isLoading:!0,error:null});case"FETCH_HOME_SUCCESS":return{isLoading:!1,forums:t.forums,error:null};case"FETCH_HOME_FAILURE":return Object(h.a)({},T,{error:t.error});default:return e}},j={isLoading:!1,users:null,error:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_REQUEST":return Object(h.a)({},e,{isLoading:!0,error:null});case"FETCH_USERS_SUCCESS":return{isLoading:!1,users:t.users,error:null};case"FETCH_USERS_FAILURE":return Object(h.a)({},j,{error:t.error});default:return e}},_={isLoading:!1,name:null,slug:null,description:null,threads:null,error:null},R={newThreadLoading:!1,newThreadSuccess:!1,newThreadName:"",newThreadContent:"",newThreadId:null,newThreadError:null,newThreadShow:!1},N=Object(h.a)({},_,R),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FORUM_REQUEST":return Object(h.a)({},_,e,{newThreadLoading:!1,newThreadSuccess:!1,newThreadId:null,newThreadError:null,newThreadShow:!1,isLoading:!0,error:null});case"FETCH_FORUM_SUCCESS":return Object(h.a)({},e,{isLoading:!1,name:t.name,slug:t.slug,description:t.description,threads:t.threads,error:null});case"FETCH_FORUM_FAILURE":return Object(h.a)({},e,{error:t.error});case"CREATE_THREAD_REQUEST":return Object(h.a)({},e,{newThreadLoading:!0,newThreadSuccess:!1,newThreadError:null,newThreadName:t.newThread.name,newThreadContent:t.newThread.content});case"CREATE_THREAD_SUCCESS":return Object(h.a)({},e,{newThreadLoading:!1,newThreadSuccess:!0,newThreadName:"",newThreadContent:"",newThreadId:t.newThread.id,newThreadShow:!1,newThreadError:null});case"CREATE_THREAD_FAILURE":return Object(h.a)({},e,{newThreadLoading:!1,newThreadSuccess:!1,newThreadId:null,newThreadShow:!0,newThreadError:t.error});case"CREATE_THREAD_SAVE":return Object(h.a)({},e,{newThreadName:t.name,newThreadContent:t.content});case"CREATE_THREAD_TOGGLE":return Object(h.a)({},e,{newThreadShow:!e.newThreadShow,newThreadSuccess:!1,newThreadError:null});case"LOGOUT":return Object(h.a)({},e,R);default:return e}},I=a(260),k=Object(h.a)({},{isLoading:!1,name:null,content:null,pinned:!1,creator:null,createdt:null,posts:[],error:null},{newPostSuccess:!1,newPostLoading:!1,newPostError:null},{deletePostList:[]},{isDeleting:!1,deleteError:null}),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_THREAD_REQUEST":return Object(h.a)({},k,{isLoading:!0,error:null});case"FETCH_THREAD_SUCCESS":return Object(h.a)({},e,{isLoading:!1,name:t.thread.name,content:t.thread.content,pinned:t.thread.pinned,creator:t.thread.creator,createdAt:t.thread.created_at,posts:t.thread.posts,error:null});case"FETCH_THREAD_FAILURE":return Object(h.a)({},e,{isLoading:!1,error:t.error});case"DELETE_THREAD_REQUEST":return Object(h.a)({},e,{isDeleting:!0,deleteError:null});case"DELETE_THREAD_SUCCESS":return Object(h.a)({},e,{isDeleting:!1,deleteError:null});case"DELETE_THREAD_FAILURE":return Object(h.a)({},e,{isDeleting:!1,deleteError:t.error});case"CREATE_POST_REQUEST":return Object(h.a)({},e,{newPostLoading:!0,newPostError:null,newPostSuccess:!1});case"CREATE_POST_SUCCESS":return Object(h.a)({},e,{newPostLoading:!1,newPostError:null,newPostSuccess:!0});case"CREATE_POST_FAILURE":return Object(h.a)({},e,{newPostLoading:!1,newPostError:t.error,newPostSuccess:!1});case"DELETE_POST_REQUEST":return Object(h.a)({},e,{deletePostList:[].concat(Object(I.a)(e.deletePostList),[t.id])});case"DELETE_POST_SUCCESS":case"DELETE_POST_FAILURE":return Object(h.a)({},e,{deletePostList:e.deletePostList.filter(function(e){return e!==t.id})});default:return e}},U=Object(m.c)({auth:g,modal:b,register:C,userProfile:O,home:y,users:L,forum:P,thread:A}),F=a(236),D=a(160),M=a(237),H=a.n(M),x=a(238),G=a.n(x),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,Q={key:"root",storage:G.a,stateReconciler:H.a},z=Object(D.a)(Q,U),B=Object(m.e)(z,W(Object(m.a)(F.a))),V=Object(D.b)(B),J=B,q=a(8),K=a(9),X=a(11),Y=a(10),$=a(12),Z=a(239),ee=a.n(Z),te=(a(289),function(){return r.a.createElement("div",{className:"logoContainer"},r.a.createElement("img",{src:ee.a,className:"logo",alt:"logo"}),r.a.createElement("div",{className:"logoTitle"},"RENT. RATE. SHARE."))}),ae=a(83),ne=(a(290),function(){return r.a.createElement("div",{className:"navlinkContainer"},r.a.createElement(te,null),r.a.createElement("div",{className:"link"},r.a.createElement(ae.a,{name:"home",className:"navlinkIcon"}),r.a.createElement(c.b,{to:"/"},"Home")),r.a.createElement("div",{className:"link"},r.a.createElement(ae.a,{name:"users",className:"navlinkIcon"}),r.a.createElement(c.b,{to:"/users"},"Users")))}),re=(a(372),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props.className||"btn",t=this.props.disabled;return this.props.loading&&(t=!0),r.a.createElement("button",{className:e,disabled:t,onClick:this.props.onClick,type:this.props.type?this.props.type:this.props.onClick?"button":"submit"},this.props.loading?r.a.createElement(d,null):this.props.children)}}]),t}(n.Component));re.defaultProps={className:"btn",type:"submit",loading:!1,disabled:!1,onClick:null};a(195);var oe=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showLogin,a=e.showRegister;return r.a.createElement("div",{className:"guestMenu"},r.a.createElement(re,{className:"btn-sign-in",type:"button",onClick:t},"Login"),r.a.createElement("br",null),r.a.createElement(re,{className:"btn-register",type:"button",onClick:a},"Register"))}}]),t}(n.Component),ie=oe,se=a(259),ce=(a(373),function(e){var t=e.className,a=e.avatar,n=e.centered,o=e.link;/^http/.test(a=a||"https://i.imgur.com/7o5cwt8.png")&&!/^https/.test(a)&&(a=a.replace(/^http/,"https")),n=null===n||n,t=t||"avatar";var i=r.a.createElement(se.a,{className:t,src:a,centered:n});return o?r.a.createElement(c.b,{to:o},i):i}),le=a(563),ue=a(559),de=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.username,a=e.avatar,n=e.logout,o=e.showEditProfile,i=e.history,s=e.name;return r.a.createElement("div",{className:"userMenu"},r.a.createElement(le.a,{fluid:!0,inverted:!0,borderless:!0,size:"large",className:"userMenu-menu"},r.a.createElement(le.a.Item,{disabled:!0,className:"userMenu-avatar"},r.a.createElement(ce,{avatar:a})),r.a.createElement(ue.a,{item:!0,simple:!0,text:s||t,direction:"left"},r.a.createElement(ue.a.Menu,null,r.a.createElement(ue.a.Item,{onClick:function(){i.push("/user/".concat(t))},icon:"user",text:"My profile"}),r.a.createElement(ue.a.Item,{onClick:o,icon:"setting",text:"Edit profile"}),r.a.createElement(ue.a.Item,{onClick:n,icon:"sign out",text:"Logout"})))))}}]),t}(n.Component),me=Object(l.e)(de),he=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.username,n=e.name,o=e.avatar,i=e.logout,s=e.isLoading,c=e.showRegister,l=e.showLogin,u=e.showEditProfile;return t?r.a.createElement(me,{username:a,name:n,avatar:o,logout:i,showEditProfile:u,isLoading:s}):r.a.createElement(ie,{showRegister:c,showLogin:l})}}]),t}(n.Component),Ee=(a(421),a(27)),pe=a.n(Ee),fe="http://localhost/api/",ge=fe+"user/",ve=fe+"forum/",be=fe+"thread/",Se=fe+"post/",Ce=function(){return J.getState().auth.isAuthenticated?{headers:{Authorization:"Token "+J.getState().auth.token}}:null},we=function(e){return pe.a.get(ve+e,Ce())},Oe=function(e){return pe.a.get(be+e,Ce())},Te=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new FormData;a.append("file",e);var n=t?"dfnrvqvx":"nlczu2np";return a.append("upload_preset",n),pe.a.post("https://api.cloudinary.com/v1_1/rengorum/upload",a,null)},ye=function(e,t){return{type:"SHOW_MODAL",modalType:e,modalProps:t}},je=function(e){try{if(!e.response)return"Error: Network Error";if(e.response.data){var t=e.response.data;if(t.detail)return"Invalid token."===t.detail?"Invalid Token. Please re-login.":t.detail;if(t[0])return t[0];var a=Object.keys(t)[0],n=t[a][0];if(["non_field_errors","detail"].indexOf(a)>=0)return n;var r=String(a).replace("_"," ");return r.charAt(0).toUpperCase()+r.substring(1)+": "+n}}catch(e){return console.log(e),"Something wrong happened. Please report this."}},Le=function(e,t){return function(a){a(_e()),function(e,t){return pe.a.post("http://localhost/api/user/login/",{username:e,password:t},Ce())}(e,t).then(function(e){a(Re(e.data)),a({type:"HIDE_MODAL"})}).catch(function(e){var t=je(e);a(Ne(t))})}},_e=function(){return{type:"LOGIN_REQUEST"}},Re=function(e){return{type:"LOGIN_SUCCESS",token:e.token,username:e.username,name:e.name,avatar:e.avatar,isStaff:e.is_staff}},Ne=function(e){return{type:"LOGIN_FAILURE",error:e}},Pe=function(){return function(e){pe.a.post("http://localhost/api/user/logout/",null,Ce()),e({type:"LOGOUT"})}},Ie=function(e){return function(t){t(ke());var a=J.getState().auth.username;a?function(e,t){return pe.a.put(ge+e+"/edit/",t,Ce())}(a,e).then(function(a){t(Ae(e))}).catch(function(e){var a=je(e);t(Ue(a))}):t(Ue("Not authenticated"))}},ke=function(){return{type:"EDIT_PROFILE_REQUEST"}},Ae=function(e){return{type:"EDIT_PROFILE_SUCCESS",avatar:e.avatar,name:e.name}},Ue=function(e){return{type:"EDIT_PROFILE_FAILURE",error:e}},Fe=function(e){return function(t){t(De()),function(e){return pe.a.post("http://localhost/api/user/register/",e,Ce())}(e).then(function(a){t(Me()),t(Le(e.username,e.password))}).catch(function(e){var a=je(e);t(He(a))})}},De=function(){return{type:"REGISTER_REQUEST"}},Me=function(){return{type:"REGISTER_SUCCESS"}},He=function(e){return{type:"REGISTER_FAILURE",error:e}},xe=function(e){return function(t){t(Ge()),function(e){return pe.a.get(ge+e,Ce())}(e).then(function(e){t(We(e.data))}).catch(function(e){var a=je(e);t(Qe(a))})}},Ge=function(){return{type:"FETCH_USER_PROFILE_REQUEST"}},We=function(e){return{type:"FETCH_USER_PROFILE_SUCCESS",profile:e}},Qe=function(e){return{type:"FETCH_USER_PROFILE_FAILURE",error:e}},ze=function(){return function(e){e(Be()),pe.a.get(ve,Ce()).then(function(t){e(Ve(t.data))}).catch(function(t){var a=je(t);e(Je(a))})}},Be=function(){return{type:"FETCH_HOME_REQUEST"}},Ve=function(e){return{type:"FETCH_HOME_SUCCESS",forums:e}},Je=function(e){return{type:"FETCH_HOME_FAILURE",error:e}},qe=function(){return function(e){e(Ke()),pe.a.get(ge,Ce()).then(function(t){e(Xe(t.data))}).catch(function(t){var a=je(t);e(Ye(a))})}},Ke=function(){return{type:"FETCH_USERS_REQUEST"}},Xe=function(e){return{type:"FETCH_USERS_SUCCESS",users:e}},Ye=function(e){return{type:"FETCH_USERS_FAILURE",error:e}},$e=function(){return{type:"FETCH_FORUM_REQUEST"}},Ze=function(e){return{type:"FETCH_FORUM_SUCCESS",name:e.name,slug:e.slug,description:e.description,threads:e.threads}},et=function(e){return{type:"FETCH_FORUM_FAILURE",error:e}},tt=function(){return{type:"FETCH_THREAD_REQUEST"}},at=function(e){return{type:"FETCH_THREAD_SUCCESS",thread:e}},nt=function(e){return{type:"FETCH_THREAD_FAILURE",error:e}},rt=function(e){return function(t){t(ot(e)),function(e){return pe.a.post("http://localhost/api/thread/create/",e,Ce())}(e).then(function(a){t(it(a.data)),we(e.forum).then(function(e){t(Ze(e.data))}).catch(function(e){var a=je(e);t(et(a))})}).catch(function(e){var a=je(e);t(st(a))})}},ot=function(e){return{type:"CREATE_THREAD_REQUEST",newThread:e}},it=function(e){return{type:"CREATE_THREAD_SUCCESS",newThread:e}},st=function(e){return{type:"CREATE_THREAD_FAILURE",error:e}},ct=function(e){return function(t){t(lt()),function(e){return pe.a.delete(be+e+"/delete/",Ce())}(e).then(function(a){t(ut()),Oe(e).then(function(e){t(at(e.data))}).catch(function(e){var a=je(e);t(nt(a))})}).catch(function(e){var a=je(e);t(dt(a))})}},lt=function(){return{type:"DELETE_THREAD_REQUEST"}},ut=function(){return{type:"DELETE_THREAD_SUCCESS"}},dt=function(e){return{type:"DELETE_THREAD_FAILURE",error:e}},mt=function(e){return function(t){t(ht()),function(e){return pe.a.post("http://localhost/api/post/create/",e,Ce())}(e).then(function(a){t(Et()),Oe(e.thread_id).then(function(e){t(at(e.data))}).catch(function(e){var a=je(e);t(nt(a))})}).catch(function(e){var a=je(e);t(pt(a))})}},ht=function(e){return{type:"CREATE_POST_REQUEST"}},Et=function(){return{type:"CREATE_POST_SUCCESS"}},pt=function(e){return{type:"CREATE_POST_FAILURE",error:e}},ft=function(e,t){return function(a){a(gt(e)),function(e){return pe.a.delete(Se+e+"/delete/",Ce())}(e).then(function(n){a(vt(e)),Oe(t).then(function(e){a(at(e.data))}).catch(function(e){var t=je(e);a(nt(t))})}).catch(function(t){var n=je(t);a(bt(e,n))})}},gt=function(e){return{type:"DELETE_POST_REQUEST",id:e}},vt=function(e){return{type:"DELETE_POST_SUCCESS",id:e}},bt=function(e,t){return{type:"DELETE_POST_FAILURE",id:e,error:t}},St=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.username,n=e.name,o=e.avatar,i=e.handleLogout,s=e.isLoading,c=e.showRegister,l=e.showLogin,u=e.showEditProfile;return r.a.createElement("div",{className:"headerContainer"},r.a.createElement(ne,null),r.a.createElement(he,{isAuthenticated:t,username:a,name:n,avatar:o,logout:i,isLoading:s,showRegister:c,showLogin:l,showEditProfile:u}))}}]),t}(n.Component),Ct=Object(s.b)(function(e){return{username:e.auth.username,name:e.auth.name,avatar:e.auth.avatar,isAuthenticated:e.auth.isAuthenticated,isLoading:e.auth.isLoading}},function(e){return{handleLogout:function(){e(Pe())},showRegister:function(){e(ye("REGISTER",{}))},showLogin:function(){e(ye("LOGIN",{}))},showEditProfile:function(){e(ye("EDIT_PROFILE",{}))}}})(St),wt=a(60),Ot=a(561),Tt=a(558),yt=a(562),jt=(a(439),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.loadingClassName,n=e.loadingMessage,o=e.error,i=e.errorClassName,s=e.errorMessage,c=e.success,l=e.successClassName,u=e.successMessage,m=e.nothing,h=e.nothingClassName,E=e.nothingMessage,p=e.type;return t?"modal"===p?r.a.createElement("div",{className:a||"statusMessage-modal"},r.a.createElement(Ot.a,{attached:!0,icon:!0},r.a.createElement(Ot.a.Content,null,r.a.createElement(ae.a,{name:"circle notched",loading:!0,size:"big"}),n||"Loading ..."))):r.a.createElement("div",{className:a||"statusMessage-default"},r.a.createElement(d,null),r.a.createElement("br",null),r.a.createElement(Ot.a,{size:"tiny"},r.a.createElement(Ot.a.Content,null,r.a.createElement(Ot.a.Header,null,"Just few seconds"),n||"We are fetching the content for you."))):o?"modal"===p?r.a.createElement("div",{className:i||"statusMessage-modal"},r.a.createElement(Ot.a,{attached:!0,error:!0,icon:!0},r.a.createElement(Ot.a.Content,null,r.a.createElement(ae.a,{name:"thumbs outline down",size:"big"}),s||o||"Sorry, something went wrong"))):r.a.createElement("div",{className:i||"statusMessage-default"},r.a.createElement(Ot.a,{error:!0},r.a.createElement(Ot.a.Content,null,r.a.createElement(ae.a,{name:"thumbs outline down",size:"big"}),s||o||"Sorry, something went wrong"))):c?"modal"===p?r.a.createElement("div",{className:l||"statusMessage-modal"},r.a.createElement(Ot.a,{attached:!0,positive:!0,icon:!0},r.a.createElement(Ot.a.Content,null,r.a.createElement(ae.a,{name:"thumbs outline up",size:"big"}),u||"Successful"))):r.a.createElement("div",{className:l||"statusMessage-default"},r.a.createElement(Ot.a,{positive:!0},r.a.createElement(Ot.a.Content,null,r.a.createElement(ae.a,{name:"thumbs outline up",size:"big"}),u||"Successful"))):m?"modal"===p?r.a.createElement("div",{className:h||"statusMessage-modal"},r.a.createElement(Ot.a,{attached:!0,error:!0,icon:!0},r.a.createElement(Ot.a.Content,null,r.a.createElement(ae.a,{name:"thumbs outline down",size:"big"}),E||"Successful"))):r.a.createElement("div",{className:h||"statusMessage-default"},r.a.createElement(Ot.a,{error:!0},r.a.createElement(Ot.a.Content,null,r.a.createElement(ae.a,{name:"thumbs outline down",size:"big"}),E||"Nothing to display"))):null}}]),t}(n.Component)),Lt=(a(440),function(e){function t(e){var a;return Object(q.a)(this,t),(a=Object(X.a)(this,Object(Y.a)(t).call(this,e))).handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(wt.a)({},n,r))},a.handleCheckbox=function(){a.setState({checked:!a.state.checked})},a.isFormValid=function(){var e=a.state,t=e.username,n=e.name,r=e.email,o=e.password,i=e.checked,s=!0;return t&&n&&r&&o&&i||(s=!1),s},a.handleSubmit=function(e){if(a.isFormValid()){var t={username:a.state.username,name:a.state.name,email:a.state.email,password:a.state.password};a.props.handleRegister(t)}},a.state={username:"",name:"",email:"",password:"",checked:!0},a}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.showLogin,o=r.a.createElement(jt,{error:a,errorMessage:a||"Login Error",loading:t,loadingMessage:"Registering your account",type:"modal"});return r.a.createElement("div",null,r.a.createElement(Ot.a,{attached:!0,header:"Welcome to our site!",content:"Fill out the form below to sign-up for a new account"}),o,r.a.createElement(Tt.a,{className:"attached fluid segment"},r.a.createElement(Tt.a.Input,{required:!0,label:"Username",placeholder:"Username",type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement(Tt.a.Input,{required:!0,label:"Name",placeholder:"Name",type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),r.a.createElement(Tt.a.Input,{required:!0,label:"Email",placeholder:"Email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange}),r.a.createElement(Tt.a.Input,{required:!0,label:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement(Tt.a.Checkbox,{inline:!0,required:!0,label:"I agree to the terms and conditions",name:"agreement",checked:this.state.checked,onChange:this.handleCheckbox}),r.a.createElement(yt.a,{color:"blue",loading:t,disabled:t,onClick:this.handleSubmit},"Submit")),r.a.createElement(Ot.a,{attached:"bottom",warning:!0},r.a.createElement(ae.a,{name:"help"}),"Already signed up?\xa0",r.a.createElement("a",{className:"register-login",onClick:n},"Login here"),"\xa0instead."))}}]),t}(n.Component)),_t=(a(444),function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(X.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).listenKeyboard=function(e){"Escape"!==e.key&&27!==e.keyCode||a.props.onClose()},a.closeModal=function(){a.props.onClose()},a.onDialogClick=function(e){e.stopPropagation()},a}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.props.onClose&&window.addEventListener("keydown",this.listenKeyboard,!0)}},{key:"componentWillUnmount",value:function(){this.props.onClose&&window.removeEventListener("keydown",this.listenKeyboard,!0)}},{key:"render",value:function(){var e=this.props.overlayStyle?this.props.overlayStyle:{},t=this.props.contentStyle?this.props.contentStyle:{},a=this.props.dialogStyle?this.props.dialogStyle:{};return r.a.createElement("div",null,r.a.createElement("div",{className:"modal-overlay-div",style:e}),r.a.createElement("div",{className:"modal-content-div",style:t,onClick:this.closeModal},r.a.createElement("div",{className:"modal-dialog-div",style:a,onClick:this.onDialogClick},r.a.createElement(ae.a,{name:"window close outline",size:"large",className:"modal-close-div",onClick:this.closeModal}),this.props.children)))}}]),t}(n.Component)),Rt=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){this.props.isAuthenticated&&this.props.handleClose()}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.isLoading,n=e.error,o=e.handleRegister,i=e.showLogin,s=e.handleClose;return t?null:r.a.createElement(_t,{onClose:s},r.a.createElement(Lt,{handleRegister:o,showLogin:i,isLoading:a,error:n}))}}]),t}(n.Component),Nt=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.register.error,isLoading:e.register.isLoading}},function(e){return{handleRegister:function(t){e(Fe(t))},handleClose:function(){e({type:"HIDE_MODAL"}),e({type:"REGISTER_RESET"})},showLogin:function(){e(ye("LOGIN",{})),e({type:"REGISTER_RESET"})}}})(Rt),Pt=(a(445),function(e){function t(e){var a;return Object(q.a)(this,t),(a=Object(X.a)(this,Object(Y.a)(t).call(this,e))).handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(wt.a)({},n,r))},a.isFormValid=function(){var e=a.state,t=e.username,n=e.password,r=!0;return t&&n||(r=!1),r},a.handleSubmit=function(e){a.isFormValid()&&a.props.handleLogin(a.state.username,a.state.password)},a.state={username:"",password:""},a}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.showRegister,o=r.a.createElement(jt,{error:a,errorMessage:a||"Login Error",loading:t,loadingMessage:"Signing in",type:"modal"});return r.a.createElement("div",null,r.a.createElement(Ot.a,{attached:!0,header:"Login"}),o,r.a.createElement(Tt.a,{className:"attached fluid segment"},r.a.createElement(Tt.a.Input,{required:!0,label:"Username",placeholder:"Username",type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement(Tt.a.Input,{required:!0,label:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement(yt.a,{color:"blue",loading:t,disabled:t,onClick:this.handleSubmit},"Login")),r.a.createElement(Ot.a,{attached:"bottom",warning:!0},r.a.createElement(ae.a,{name:"help"}),"New to this site?\xa0",r.a.createElement("a",{className:"login-register",onClick:n},"Register here"),"\xa0instead."))}}]),t}(n.Component)),It=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){this.props.isAuthenticated&&this.props.handleClose()}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.isLoading,n=e.error,o=e.handleClose,i=e.showRegister,s=e.handleLogin;return t?null:r.a.createElement(_t,{onClose:o},r.a.createElement(Pt,{handleLogin:s,showRegister:i,isLoading:a,error:n}))}}]),t}(n.Component),kt=Object(s.b)(function(e){return{isLoading:e.auth.isLoading,error:e.auth.error,isAuthenticated:e.auth.isAuthenticated}},function(e){return{handleLogin:function(t,a){e(Le(t,a))},handleClose:function(){e({type:"HIDE_MODAL"}),e({type:"LOGIN_RESET"})},showRegister:function(){e(ye("REGISTER",{})),e({type:"LOGIN_RESET"})}}})(It),At=a(261),Ut=a(564),Ft=a(556),Dt=(a(446),function(e){function t(e){var a;Object(q.a)(this,t),(a=Object(X.a)(this,Object(Y.a)(t).call(this,e))).handleChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(wt.a)({},n,r))},a.onImageDrop=function(e){a.setState({avatarFile:e[0]})},a.editProfile=function(){var e={name:a.state.name,current_password:a.state.currentPassword,new_password:a.state.newPassword,bio:a.state.bio,avatar:a.state.avatar,status:a.state.status};a.props.handleEdit(e),a.setState({currentPassword:""})},a.handleSubmit=function(){var e=a.state,t=e.currentPassword,n=e.avatarFile;""!==t&&(n?(a.setState({avatarUploading:!0}),Te(n).then(function(e){a.setState({avatar:e.data.secure_url,avatarUploading:!1}),a.editProfile()}).catch(function(e){console.log(e),a.setState({avatarError:"Image Upload Error",avatarFile:null,avatarUploading:!1})})):a.editProfile())};var n=a.props,r=n.name,o=n.avatar;return a.state={name:r,newPassword:"",currentPassword:"",bio:"",status:"",avatar:o,avatarFile:null,avatarError:null,avatarUploading:!1},a}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.success,o=this.state,i=o.name,s=o.newPassword,c=o.currentPassword,l=o.bio,u=o.status,d=o.avatar,m=o.avatarFile,h=o.avatarError,E=o.avatarUploading,p=r.a.createElement(jt,{error:a||h,errorMessage:a||h,loading:t||E,loadingMessage:"Editing your profile",success:n,successMessage:"Your profile edit was successful",type:"modal"}),f=m?m.preview:d;return r.a.createElement("div",null,r.a.createElement(Ot.a,{attached:!0,header:"Edit Your Profile",content:"Fill out any part of the form below to edit your profile"}),p,r.a.createElement(Tt.a,{className:"attached segment"},r.a.createElement(Ut.a,{celled:!0,columns:2},r.a.createElement(Ut.a.Column,null,r.a.createElement(Tt.a.Field,null,r.a.createElement("label",null,"Profile picture"),r.a.createElement(At.a,{onDrop:this.onImageDrop,multiple:!1,accept:"image/*"},r.a.createElement(se.a,{src:f,className:"editProfile-avatar"}))),r.a.createElement(Tt.a.Input,{label:"Bio",placeholder:"Describe yourself",type:"text",name:"bio",control:Ft.a,value:l,onChange:this.handleChange})),r.a.createElement(Ut.a.Column,null,r.a.createElement(Tt.a.Input,{label:"Name",placeholder:"Name",type:"text",name:"name",value:i,onChange:this.handleChange}),r.a.createElement(Tt.a.Input,{required:!0,label:"Current Password",type:"password",name:"currentPassword",value:c,onChange:this.handleChange}),r.a.createElement(Tt.a.Input,{label:"New Password",type:"password",name:"newPassword",value:s,onChange:this.handleChange}),r.a.createElement(Tt.a.Input,{label:"Status",placeholder:"Who are you (e.g: Writer)",type:"text",name:"status",value:u,onChange:this.handleChange}))),r.a.createElement(yt.a,{color:"blue",loading:t,disabled:t,onClick:this.handleSubmit},"Submit")))}}]),t}(n.Component)),Mt=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentWillMount",value:function(){this.props.isAuthenticated||this.props.handleClose()}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.isEditing,n=e.error,o=e.avatar,i=e.name,s=e.editProfile,c=e.handleClose,l=e.success;return t?r.a.createElement(_t,{onClose:c,dialogStyle:{minWidth:"500px"}},r.a.createElement(Dt,{avatar:o,name:i,handleEdit:s,isLoading:a,error:n,success:l})):null}}]),t}(n.Component),Ht=Object(s.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isEditing:e.auth.isEditing,error:e.auth.editError,avatar:e.auth.avatar,name:e.auth.name,success:e.auth.editSuccess}},function(e){return{editProfile:function(t){e(Ie(t))},handleClose:function(){e({type:"HIDE_MODAL"}),e({type:"EDIT_PROFILE_RESET"})}}})(Mt),xt=Object(s.b)(function(e){return{modalType:e.modal.modalType,modalProps:e.modal.modalProps}})(function(e){switch(e.modalType){case"REGISTER":return r.a.createElement(Nt,null);case"LOGIN":return r.a.createElement(kt,null);case"EDIT_PROFILE":return r.a.createElement(Ht,null);default:return null}}),Gt=(a(447),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"formatDateTime",value:function(e){return e.split(".")[0].replace("T"," ")}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.username,n=e.avatar,o=e.bio,i=e.status,s=e.isStaff,c=e.dateJoined;return r.a.createElement("div",{className:"profileContainer"},r.a.createElement("div",null,r.a.createElement(ce,{className:"profileAvatar",avatar:n,centered:!1})),r.a.createElement("div",{className:"profileInfo"},r.a.createElement("div",{className:"name"},t),r.a.createElement("div",{className:"username"},r.a.createElement("strong",null,"@",a),r.a.createElement("b",{className:"staffStatus"},s?" (Staff) ":"")),r.a.createElement("div",{className:"status"},r.a.createElement("strong",null,"Status: "),i),r.a.createElement("div",{className:"dateJoined"},r.a.createElement("strong",null,"Joined: "),c),r.a.createElement("div",{className:"bio"},r.a.createElement("strong",null,"Bio: "),o)))}}]),t}(n.Component)),Wt=(a(448),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.username;this.props.fetchUserProfile(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.match.params.username,a=e.match.params.username;t!==a&&this.props.fetchUserProfile(a)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.profile;if(a||!n||t)return r.a.createElement(jt,{error:a||!n,errorClassName:"userProfile-error",errorMessage:a,loading:t,loadingMessage:"We are fetching the user profile for you",type:"default"});var o=n.name,i=n.username,s=n.status,c=n.bio,l=n.avatar,u=n.is_staff,d=n.date_joined;return r.a.createElement(Gt,{username:i,name:o,avatar:l,status:s,bio:c,dateJoined:d,isStaff:u})}}]),t}(n.Component)),Qt=Object(s.b)(function(e){return{isLoading:e.userProfile.isLoading,profile:e.userProfile.profile,error:e.userProfile.error}},function(e){return{fetchUserProfile:function(t){e(xe(t))}}})(Wt),zt=a(560),Bt=(a(449),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.username,n=e.isStaff,o=e.avatar;return r.a.createElement(zt.a,null,r.a.createElement(ce,{className:"userCard-avatar",avatar:o,link:"/user/".concat(a)}),r.a.createElement(zt.a.Content,null,r.a.createElement(zt.a.Header,null,t),r.a.createElement(zt.a.Meta,null,r.a.createElement(c.b,{to:"/user/".concat(a)},"@",a),r.a.createElement("b",{style:{color:"red",fontSize:"12px"}},n?" (Staff) ":""))))}}]),t}(n.Component)),Vt=(a(450),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.users;if(a||!n||t||0===n.length)return r.a.createElement(jt,{error:a||!n,errorClassName:"users-error",errorMessage:a,loading:t,loadingMessage:"We are fetching the users for you",nothing:n&&0===n.length,nothingMessage:"No user to display",nothingClassName:"users-error",type:"default"});var o=n.map(function(e){var t=e.name,a=e.username,n=e.avatar,o=e.is_staff;return r.a.createElement("div",{key:a,className:"userCard"},r.a.createElement(Bt,{username:a,name:t,avatar:n,isStaff:o}))});return r.a.createElement("div",{className:"usersContainer"},o)}}]),t}(n.Component)),Jt=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){return r.a.createElement(Vt,this.props)}}]),t}(n.Component),qt=Object(s.b)(function(e){return{isLoading:e.users.isLoading,users:e.users.users,error:e.users.error}},function(e){return{fetchUsers:function(){e(qe())}}})(Jt),Kt=a(565),Xt=a(21),Yt=(a(539),a(540),a(258)),$t=function(e){function t(e){var a;Object(q.a)(this,t),(a=Object(X.a)(this,Object(Y.a)(t).call(this,e))).convertToEditorState=function(e){var t=Xt.EditorState.createEmpty();if(e)try{var a=Object(Xt.convertFromRaw)(JSON.parse(e));t=Xt.EditorState.createWithContent(a)}catch(r){var n=Xt.ContentState.createFromText(e);t=Xt.EditorState.createWithContent(n)}return t},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.uploadImageCallBack=function(e){return new Promise(function(t,a){Te(e,!1).then(function(e){var a={data:{link:e.data.secure_url}};t(a)}).catch(function(e){a(e)})})};var n=a.props,r=n.content,o=n.editorState;return o=o||a.convertToEditorState(r),a.state={editorState:o},a}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.editorState,a=e.content,n=t||this.convertToEditorState(a);this.setState({editorState:n})}},{key:"render",value:function(){var e=this.props,t=e.readOnly,a=e.wrapperClassName,n=e.toolbarClassName,o=e.editorClassName,i=e.handleBeforeInput,s=e.handlePastedText,c=e.onEditorStateChange,l=e.editorState,u=e.uploadImageCallBack,d=e.placeholder;return r.a.createElement(Yt.Editor,{toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","emoji","image","history"],inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},image:{uploadCallback:u||this.uploadImageCallBack,alt:{present:!0},previewImage:!0},fontFamily:{options:["Arial","Georgia","Impact","Tahoma","Roboto","Times New Roman","Verdana"]}},editorState:l||this.state.editorState,wrapperClassName:a||"richEditor-wrapper",toolbarClassName:n||"richEditor-toolbar",editorClassName:o||"richEditor-editor",onEditorStateChange:c||this.onEditorStateChange,readOnly:t,toolbarHidden:t,handleBeforeInput:i,handlePastedText:s,placeholder:d})}}]),t}(n.Component),Zt=(a(541),function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(X.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).onDelete=function(){var e=a.props,t=e.deleteAction,n=e.id,r=e.threadID;e.isThread?t(r):t(n,r)},a}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.isThread,n=e.content,o=e.createdAt,i=e.creator,s=e.authenticatedUsername,l=e.authenticatedIsStaff,u=e.deletePostList,d=a?"black":null,m=a?"Delete Thread":"Delete Post",h=r.a.createElement("div",{className:"post-dropdown"},r.a.createElement(ue.a,{simple:!0,icon:"caret down",direction:"left"},r.a.createElement(ue.a.Menu,null,r.a.createElement(ue.a.Item,{onClick:this.onDelete,icon:"delete",text:m})))),E=!a&&u.indexOf(t)>=0;return r.a.createElement(Kt.a,{loading:E,color:d},r.a.createElement(Ut.a,{textAlign:"left",padded:"horizontally"},r.a.createElement(Ut.a.Column,{width:4},r.a.createElement(Ut.a.Row,null,r.a.createElement("div",{className:"post-row"},r.a.createElement(ce,{className:"post-avatar",avatar:i.avatar,centered:!1,link:"/user/".concat(i.username)}),r.a.createElement("div",{className:"post-column"},r.a.createElement("div",{className:"post-name"},i.name),r.a.createElement("div",{className:"post-username"},r.a.createElement(c.b,{to:"/user/".concat(i.username)},r.a.createElement(ae.a,{name:"user"}),i.username)),r.a.createElement("div",{className:"post-status"},i.status||"Member"))))),r.a.createElement(Ut.a.Column,{width:12},r.a.createElement("div",{className:"post-time"},o,(l||s===i.username)&&h),r.a.createElement($t,{readOnly:!0,content:n,wrapperClassName:"post-wrapper-read",editorClassName:"post-editor",toolbarClassName:"post-toolbar"}))))}}]),t}(n.Component)),ea=a(121),ta=a(122),aa=a.n(ta),na=a(66),ra=(a(542),function(e){function t(e){var a;return Object(q.a)(this,t),(a=Object(X.a)(this,Object(Y.a)(t).call(this,e))).onEditorStateChange=function(e){a.setState({editorState:e})},a.onSubmit=function(){var e=a.state.editorState,t=a.props,n=t.threadID;(0,t.createPost)({thread_id:n,content:JSON.stringify(Object(Xt.convertToRaw)(e.getCurrentContent()))})},a.isValidLength=function(e){var t=a.props.maxLength||1e3;return e.getPlainText("").length<=t},a.handleBeforeInput=function(e){var t=a.state.editorState;if(!a.isValidLength(t.getCurrentContent()))return"handled"},a.handlePastedText=function(e,t,n,r){if(t){var o=aa()(t),i=n.getCurrentContent();return o.entityMap.forEach(function(e,t){i=i.mergeEntityData(t,e)}),i=Xt.Modifier.replaceWithFragment(i,n.getSelection(),new na.List(o.contentBlocks)),a.isValidLength(i)?(r(Xt.EditorState.push(n,i,"insert-characters")),!0):"handled"}var s=Object(ea.getSelectedBlock)(n),c=Xt.Modifier.replaceText(n.getCurrentContent(),n.getSelection(),e,n.getCurrentInlineStyle());return a.isValidLength(c)?(r(Xt.EditorState.push(n,c,"insert-characters")),!(!s||"code"!==s.type)):"handled"},a.state={editorState:Xt.EditorState.createEmpty()},a}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.success&&this.setState({editorState:Xt.EditorState.createEmpty()})}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.isLoading,n=e.error;if(!t)return r.a.createElement("div",{className:"newPost-none"},"Please sign in to post a reply");var o=this.state.editorState,i=r.a.createElement(jt,{error:n,errorClassName:"newPost-message",errorMessage:n||"Oops! Something went wrong.",type:"modal"});return r.a.createElement("div",{className:"newPost-show"},i,r.a.createElement(Tt.a,{loading:a,className:"attached fluid segment"},r.a.createElement($t,{placeholder:"Start typing your post content here...",editorState:o,wrapperClassName:"newPost-wrapper",toolbarClassName:"newPost-toolbar",editorClassName:"newPost-editor",onEditorStateChange:this.onEditorStateChange,handleBeforeInput:this.handleBeforeInput,handlePastedText:this.handlePastedText}),r.a.createElement(yt.a,{color:"blue",size:"small",loading:a,disabled:a,onClick:this.onSubmit},r.a.createElement(ae.a,{name:"write"}),"Post")))}}]),t}(n.Component)),oa=(a(543),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.isLoading,n=e.name,o=e.content,i=e.pinned,s=e.creator,c=e.createdAt,l=e.posts,u=e.error,d=e.isAuthenticated,m=e.createPost,h=e.newPostSuccess,E=e.newPostLoading,p=e.newPostError,f=e.authenticatedUsername,g=e.authenticatedIsStaff,v=e.deletePostList,b=e.deletePost,S=e.isDeleting,C=e.deleteError,w=e.deleteThread;if(u||C||a||S||!n){var O="We are fetching the thread for you";return S&&(O="We are deleting the thread for you"),r.a.createElement(jt,{error:u||C||!n,errorClassName:"thread-error",errorMessage:u||C,loading:a||S,loadingMessage:O,nothing:!n,nothingMessage:"Thread does not exist",type:"default"})}var T=r.a.createElement(Zt,{id:t,threadID:t,isThread:!0,content:o,createdAt:c,creator:s,authenticatedUsername:f,authenticatedIsStaff:g,deleteAction:w}),y=0===l.length?null:l.map(function(e){var a=e.id,n=e.content,o=e.created_at,i=e.creator;return r.a.createElement(Zt,{key:a,threadID:t,id:a,isThread:!1,content:n,createdAt:o,creator:i,authenticatedUsername:f,authenticatedIsStaff:g,deletePostList:v,deleteAction:b})});return r.a.createElement("div",{className:"threadContainer"},r.a.createElement("div",{className:"thread-title"},r.a.createElement(ae.a,{name:i?"pin":"talk outline"}),n),r.a.createElement(Kt.a.Group,{className:"thread-list"},T,y),r.a.createElement(ra,{isAuthenticated:d,threadID:t,createPost:m,success:h,isLoading:E,error:p,maxLength:2e3}))}}]),t}(n.Component)),ia=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.thread;this.props.fetchThread(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.match.params.thread,a=e.match.params.thread;t!==a&&this.props.fetchThread(a)}},{key:"render",value:function(){var e=this.props.match.params.thread,t=this.props,a=t.isLoading,n=t.name,o=t.content,i=t.pinned,s=t.creator,c=t.createdAt,l=t.posts,u=t.error,d=t.isAuthenticated,m=t.createPost,h=t.newPostLoading,E=t.newPostError,p=t.newPostSuccess,f=t.authenticatedUsername,g=t.authenticatedIsStaff,v=t.deletePostList,b=t.deletePost,S=t.isDeleting,C=t.deleteError,w=t.deleteThread;return r.a.createElement(oa,{id:e,isLoading:a,name:n,content:o,pinned:i,creator:s,createdAt:c,posts:l,error:u,isAuthenticated:d,createPost:m,newPostSuccess:p,newPostLoading:h,newPostError:E,authenticatedUsername:f,authenticatedIsStaff:g,deletePostList:v,deletePost:b,isDeleting:S,deleteError:C,deleteThread:w})}}]),t}(n.Component),sa=Object(s.b)(function(e){return{isLoading:e.thread.isLoading,name:e.thread.name,content:e.thread.content,pinned:e.thread.pinned,creator:e.thread.creator,createdAt:e.thread.createdAt,posts:e.thread.posts,error:e.thread.error,isAuthenticated:e.auth.isAuthenticated,authenticatedUsername:e.auth.username,authenticatedIsStaff:e.auth.isStaff,newPostSuccess:e.thread.newPostSuccess,newPostLoading:e.thread.newPostLoading,newPostError:e.thread.newPostError,deletePostList:e.thread.deletePostList,isDeleting:e.thread.isDeleting,deleteError:e.thread.deleteError}},function(e){return{fetchThread:function(t){e(function(e){return function(t){t(tt()),Oe(e).then(function(e){t(at(e.data))}).catch(function(e){var a=je(e);t(nt(a))})}}(t))},createPost:function(t){e(mt(t))},deletePost:function(t,a){e(ft(t,a))},deleteThread:function(t){e(ct(t))}}})(ia),ca=(a(544),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.forums;if(a||!n||t||0===n.length)return r.a.createElement(jt,{error:a||!n,errorClassName:"home-error",errorMessage:a,loading:t,loadingMessage:"We are fetching the homepage for you",nothing:n&&0===n.length,nothingMessage:"No forum to display",nothingClassName:"home-error",type:"default"});var o=n.map(function(e){var t=e.name,a=e.slug,n=e.description,o=e.posts_count,i=e.threads_count,s=e.last_activity,l=r.a.createElement("div",{className:"home-text home-vertical"},"\u2014  No activity \u2014");if(s){var u=s.thread_id,d=s.thread_name,m=s.username,h=s.avatar,E=s.pinned,p=s.naturaltime;d=d.length>43?d.substring(0,43)+"...":d,l=r.a.createElement("div",{className:"home-row"},r.a.createElement(ce,{className:"home-avatar",avatar:h,centered:!1,link:"/user/".concat(m)}),r.a.createElement("div",{className:"home-column"},r.a.createElement("div",null,r.a.createElement(ae.a,{name:E?"pin":"talk outline"}),r.a.createElement(c.b,{to:"/thread/".concat(u)},d)),r.a.createElement("div",{className:"home-meta"},r.a.createElement(c.b,{to:"/user/".concat(m)},r.a.createElement(ae.a,{name:"user"}),m),r.a.createElement("b",null,"  \u2014  ".concat(p)))))}return r.a.createElement(Kt.a,{vertical:!0,key:a},r.a.createElement(Ut.a,{textAlign:"left",padded:"horizontally"},r.a.createElement(Ut.a.Column,{width:7},r.a.createElement(Ut.a.Row,null,r.a.createElement(ae.a,{name:"edit"}),r.a.createElement(c.b,{to:"/forum/".concat(a)},t)),r.a.createElement(Ut.a.Row,null,n)),r.a.createElement(Ut.a.Column,{width:3},r.a.createElement("div",{className:"home-column home-stats home-vertical"},r.a.createElement("div",{style:{paddingBottom:"5px"}},r.a.createElement(ae.a,{name:"write"}),i,i>1?" threads":" thread"),r.a.createElement("div",null,r.a.createElement(ae.a,{name:"comment outline"}),o,o>1?" posts":" post"))),r.a.createElement(Ut.a.Column,{width:6},l)))});return r.a.createElement("div",{className:"homeContainer"},r.a.createElement(Kt.a.Group,{className:"home-list"},o))}}]),t}(n.Component)),la=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchForums()}},{key:"render",value:function(){return r.a.createElement(ca,this.props)}}]),t}(n.Component),ua=Object(s.b)(function(e){return{isLoading:e.home.isLoading,forums:e.home.forums,error:e.home.error}},function(e){return{fetchForums:function(){e(ze())}}})(la),da=(a(545),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.threads;if(a||!n||t||0===n.length)return r.a.createElement(jt,{error:a||!n,errorClassName:"forum-error",errorMessage:a,loading:t,loadingMessage:"We are fetching the forum for you",nothing:n&&0===n.length,nothingMessage:"No threads to display",nothingClassName:"forum-error",type:"default"});var o=n.map(function(e){var t=e.id,a=e.name,n=e.pinned,o=e.creator,i=e.avatar,s=e.naturaltime,l=e.replies_count,u=e.last_activity;a=a.length>57?a.substring(0,55)+"...":a;var d=u?r.a.createElement("div",{className:"forum-row"},r.a.createElement(ce,{className:"forum-avatar",avatar:u.avatar,centered:!1,link:"/user/".concat(u.username)}),r.a.createElement("div",{className:"forum-column"},r.a.createElement("div",{className:"forum-name"},u.name),r.a.createElement("div",{className:"forum-meta"},r.a.createElement(c.b,{to:"/user/".concat(u.username)},r.a.createElement(ae.a,{name:"user"}),u.username),r.a.createElement("b",null,"  \u2014  ".concat(u.naturaltime))))):r.a.createElement("div",{className:"forum-text forum-vertical"},"\u2014  No activity \u2014");return r.a.createElement(Kt.a,{vertical:!0,key:t},r.a.createElement(Ut.a,{textAlign:"left",padded:"horizontally"},r.a.createElement(Ut.a.Column,{width:7},r.a.createElement(Ut.a.Row,null,r.a.createElement("div",{className:"forum-row"},r.a.createElement(ce,{className:"forum-avatar",avatar:i,centered:!1,link:"/user/".concat(o)}),r.a.createElement("div",{className:"forum-column"},r.a.createElement("div",null,r.a.createElement(ae.a,{name:n?"pin":"talk outline"}),r.a.createElement(c.b,{to:"/thread/".concat(t)},a)),r.a.createElement("div",{className:"forum-meta"},r.a.createElement(c.b,{to:"/user/".concat(o)},r.a.createElement(ae.a,{name:"user"}),o),r.a.createElement("b",null,"  \u2014  ".concat(s))))))),r.a.createElement(Ut.a.Column,{width:3},r.a.createElement("div",{className:"forum-column forum-stats forum-vertical"},r.a.createElement("div",{style:{paddingBottom:"5px"}},r.a.createElement(ae.a,{name:"comment outline"}),l,l>1?" replies":" reply"))),r.a.createElement(Ut.a.Column,{width:6},d)))});return r.a.createElement("div",{className:"forumContainer"},r.a.createElement(Kt.a.Group,{className:"forum-list"},o))}}]),t}(n.Component)),ma=a(557),ha=(a(546),function(e){function t(e){var a;Object(q.a)(this,t),(a=Object(X.a)(this,Object(Y.a)(t).call(this,e))).convertToEditorState=function(e){var t=Xt.EditorState.createEmpty();if(e)try{var a=Object(Xt.convertFromRaw)(JSON.parse(e));t=Xt.EditorState.createWithContent(a)}catch(r){var n=Xt.ContentState.createFromText(e);t=Xt.EditorState.createWithContent(n)}return t},a.toggleShowEditor=function(){a.props.toggleShowEditor()},a.onSave=function(){var e=a.state,t=e.name,n=e.editorState,r=JSON.stringify(Object(Xt.convertToRaw)(n.getCurrentContent()));a.props.updateNewThread({name:t,content:r}),a.toggleShowEditor()},a.onCancel=function(){var e=Xt.EditorState.createEmpty();a.setState({name:"",editorState:e});var t=JSON.stringify(Object(Xt.convertToRaw)(e.getCurrentContent()));a.props.updateNewThread({name:"",content:t}),a.toggleShowEditor()},a.onNameChange=function(e,t){var n=t.value;a.setState({name:n})},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.isFormValid=function(){return a.state.name},a.onSubmit=function(){if(a.isFormValid()){var e=a.state,t=e.name,n=e.editorState,r=a.props,o=r.forum;(0,r.createThread)({name:t,forum:o,content:JSON.stringify(Object(Xt.convertToRaw)(n.getCurrentContent()))})}},a.isValidLength=function(e){var t=a.props.maxLength||100;return e.getPlainText("").length<=t},a.handleBeforeInput=function(e){var t=a.state.editorState;if(!a.isValidLength(t.getCurrentContent()))return"handled"},a.handlePastedText=function(e,t,n,r){if(t){var o=aa()(t),i=n.getCurrentContent();return o.entityMap.forEach(function(e,t){i=i.mergeEntityData(t,e)}),i=Xt.Modifier.replaceWithFragment(i,n.getSelection(),new na.List(o.contentBlocks)),a.isValidLength(i)?(r(Xt.EditorState.push(n,i,"insert-characters")),!0):"handled"}var s=Object(ea.getSelectedBlock)(n),c=Xt.Modifier.replaceText(n.getCurrentContent(),n.getSelection(),e,n.getCurrentInlineStyle());return a.isValidLength(c)?(r(Xt.EditorState.push(n,c,"insert-characters")),!(!s||"code"!==s.type)):"handled"};var n=a.props,r=n.name,o=n.content,i=a.convertToEditorState(o);return a.state={name:r,editorState:i},a}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.name,a=e.content,n=this.convertToEditorState(a);this.setState({name:t,editorState:n})}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.isLoading,n=e.success,o=e.id,i=e.error,s=e.showEditor,l=this.state,u=l.name,d=l.editorState;if(!t)return r.a.createElement("div",{className:"newThread-none"});var m=r.a.createElement(jt,{error:i,errorClassName:"newThread-message",errorMessage:i||"Oops! Something went wrong.",success:n,successClassName:"newThread-message",successMessage:r.a.createElement(c.b,{to:"/thread/".concat(o)},"Successful on creating thread"),type:"modal"});return s?r.a.createElement("div",{className:"newThread-show"},m,r.a.createElement(Tt.a,{loading:a,className:"attached fluid segment"},r.a.createElement(Tt.a.Input,{required:!0,fluid:!0,transparent:!0,icon:"edit",iconPosition:"left",size:"big",placeholder:"Name",type:"text",name:"name",value:u,onChange:this.onNameChange}),r.a.createElement(ma.a,null),r.a.createElement($t,{placeholder:"Start typing your thread content here...",editorState:d,wrapperClassName:"newThread-wrapper",toolbarClassName:"newThread-toolbar",editorClassName:"newThread-editor",onEditorStateChange:this.onEditorStateChange,handleBeforeInput:this.handleBeforeInput,handlePastedText:this.handlePastedText}),r.a.createElement(yt.a,{color:"blue",size:"small",loading:a,disabled:a,onClick:this.onSubmit},r.a.createElement(ae.a,{name:"edit"}),"Post thread"),r.a.createElement(yt.a,{color:"red",role:"none",size:"small",disabled:a,onClick:this.onSave},r.a.createElement(ae.a,{name:"save"}),"Save Draft"),r.a.createElement(yt.a,{role:"none",size:"small",disabled:a,onClick:this.onCancel},r.a.createElement(ae.a,{name:"cancel"}),"Clear"))):r.a.createElement("div",null,m," ",r.a.createElement("div",{className:"newThread-hidden"},r.a.createElement(yt.a,{size:"small",color:"blue",floated:"left",onClick:this.toggleShowEditor},r.a.createElement(ae.a,{name:"edit"}),"New Thread")))}}]),t}(n.Component)),Ea=function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.forum;this.props.fetchForum(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.match.params.forum,a=e.match.params.forum;t!==a&&this.props.fetchForum(a)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.name,n=e.slug,o=e.description,i=e.threads,s=e.error,c=e.isAuthenticated,l=e.newThreadLoading,u=e.newThreadSuccess,d=e.newThreadName,m=e.newThreadContent,h=e.newThreadId,E=e.newThreadError,p=e.newThreadShow,f=e.createThread,g=e.createThreadSave,v=e.createThreadToggle;return r.a.createElement("div",null,r.a.createElement(ha,{forum:n,isAuthenticated:c,isLoading:l,success:u,name:d,content:m,id:h,error:E,showEditor:p,createThread:f,updateNewThread:g,toggleShowEditor:v,maxLength:2e3}),r.a.createElement(da,{isLoading:t,name:a,slug:n,description:o,threads:i,error:s}))}}]),t}(n.Component),pa=Object(s.b)(function(e){return{isLoading:e.forum.isLoading,name:e.forum.name,slug:e.forum.slug,description:e.forum.description,threads:e.forum.threads,error:e.forum.error,isAuthenticated:e.auth.isAuthenticated,newThreadLoading:e.forum.newThreadLoading,newThreadSuccess:e.forum.newThreadSuccess,newThreadName:e.forum.newThreadName,newThreadContent:e.forum.newThreadContent,newThreadId:e.forum.newThreadId,newThreadError:e.forum.newThreadError,newThreadShow:e.forum.newThreadShow}},function(e){return{fetchForum:function(t){e(function(e){return function(t){t($e()),we(e).then(function(e){t(Ze(e.data))}).catch(function(e){var a=je(e);t(et(a))})}}(t))},createThread:function(t){e(rt(t))},createThreadSave:function(t){e(function(e){return{type:"CREATE_THREAD_SAVE",name:e.name,content:e.content}}(t))},createThreadToggle:function(){e({type:"CREATE_THREAD_TOGGLE"})}}})(Ea),fa=(a(547),function(e){function t(){return Object(q.a)(this,t),Object(X.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"not-found-page"},r.a.createElement(Ot.a,null,r.a.createElement(Ot.a.Content,null,r.a.createElement(Ot.a.Header,null,"404 - Page Not Found"),"Sorry, but the page you were trying to view does not exist."))),r.a.createElement(se.a,{className:"not-found-page-img",src:"https://i.imgur.com/yG7L3Lb.gif",centered:!0}))}}]),t}(n.Component)),ga=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function va(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(s.a,{store:J},r.a.createElement(u.a,{loading:r.a.createElement(d,null),persistor:V},r.a.createElement(c.a,null,r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"header-background"}),r.a.createElement("div",{className:"app-layout"},r.a.createElement(Ct,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/users",component:qt}),r.a.createElement(l.a,{path:"/user/:username",component:Qt}),r.a.createElement(l.a,{path:"/forum/:forum",component:pa}),r.a.createElement(l.a,{path:"/thread/:thread",component:sa}),r.a.createElement(l.a,{exact:!0,path:"/",component:ua}),r.a.createElement(l.a,{component:fa}))),r.a.createElement(xt,null))))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ga?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):va(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):va(e)})}}()}},[[273,1,2]]]);
//# sourceMappingURL=main.a5a30a83.chunk.js.map